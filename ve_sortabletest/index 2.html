<!doctype html>
 
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>TEST</title>
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
  <link rel="stylesheet" href="style.css"/>
  <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
  <style>
  ul { list-style-type: none; margin: 0; padding: 0; margin-bottom: 10px; }
  li { margin: 5px; padding: 5px; width: 150px; }
  </style>
  <script>
 
 // code for sortable and cloning
  $(function() {
    $( "ul.droptrue" ).sortable({
      connectWith: "#story"
    });
 
	
	 $( ".cloner" ).draggable({helper: "clone", connectToSortable: "#story"});
	 
	  $( ".static" ).draggable({ disabled: true });
	
 
    $( "ul, li" ).disableSelection();});
	
	//code for the tabs
	
	 $(function() {
    $( "#sortable1, #sortable2, #sortable3" ).sortable().disableSelection();
 
    var $tabs = $( "#tabs" ).tabs();
 
    var $tab_items = $( "ul:first li", $tabs ).droppable({
      accept: ".connectedSortable li",
      hoverClass: "ui-state-hover",
      drop: function( event, ui ) {
        var $item = $( this );
        var $list = $( $item.find( "a" ).attr( "href" ) )
          .find( ".connectedSortable" );
 
        ui.draggable.hide( "slow", function() {
          $tabs.tabs( "option", "active", $tab_items.index( $item ) );
          $( this ).appendTo( $list ).show( "slow" );
        });
      }
    });
  });
  //code for locking the start and stop
  
$(document).ready(function() {
    $("#story li.static").each(function () {
         $(this).attr("id", "static-" + $(this).index());
    }); 
   
});
$("#story").sortable({
    "cancel":"li.static",
    "update":function(event, ui) {
        $("#sortable li.static").each(function() {
           var desiredLocation = $(this).attr("id").replace("static-","");
           var currentLocation = $(this).index();
           while(currentLocation < desiredLocation) {
             $(this).next().insertBefore(this);
              currentLocation++;  
            }
            while(currentLocation > desiredLocation) {
             $(this).prev().insertAfter(this);
              currentLocation--;  
            }
        });
    }
});
  
  </script>
</head>
<body>
 

<div id="tabs">
  <ul>
    <li><a href="#tabs-1">objects</a></li>
    <li><a href="#tabs-2">booleans</a></li>
    <li><a href="#tabs-3">other</a></li>
  </ul>
  <div id="tabs-1">
    <ul id="sortable1" class="connectedSortable ui-helper-reset">
      <li class="ui-state-default cloner">Item 1</li>
      <li class="ui-state-default cloner">Item 2</li>
      <li class="ui-state-default cloner">Item 3</li>
      <li class="ui-state-default cloner">Item 4</li>
      <li class="ui-state-default cloner">Item 5</li>
    </ul>
  </div>
  <div id="tabs-2">
    <ul id="sortable2" class="connectedSortable ui-helper-reset">
      <li class="ui-state-highlight cloner">Item 1</li>
      <li class="ui-state-highlight cloner">Item 2</li>
      <li class="ui-state-highlight cloner">Item 3</li>
      <li class="ui-state-highlight cloner">Item 4</li>
      <li class="ui-state-highlight cloner">Item 5</li>
    </ul>
  </div>
   <div id="tabs-3">
    <ul id="sortable3" class="connectedSortable ui-helper-reset">
      <li class="ui-state-active cloner">Item 1</li>
      <li class="ui-state-active cloner">Item 2</li>
      <li class="ui-state-active cloner">Item 3</li>
      <li class="ui-state-active cloner">Item 4</li>
      <li class="ui-state-active cloner">Item 5</li>
    </ul>
  </div>
</div>

 
 <br>
 <br>
 <br>
 <br>
 


<div>
<ul id="story" class="droptrue">
<li class="ui-state-default static">begin</li>
<li class="ui-state-default static">end</li>
</ul>
</div>



 
<br style="clear: both;" />
 
 
</body>
</html>